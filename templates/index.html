{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <title>~Game Review~</title>
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static '/css/index.css' %}"
    />
  </head>
  <body>
    <header>
      {% include 'navbar.html' %}
    </header>
    <div class='head'>
      <h1>Hello World</h1>
      <br><br><br>
      <!-- <form action='{% url "search_result" %}' method='post'> -->
        <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <table style="display: none">
          {{ view.formset.empty_form }}
        </table>

        <table>
            {{ view.formset }}
        </table>
        <input type='submit' />
        <!-- <input name='query' type='text' placeholder='Search for a game here..'> -->
        <!-- <button type='submit' name='button'>Submit</button> -->
    </form>
    </div>
    {% comment %} Canvas used for Hex background. {% endcomment %}


    {% include 'card.html' %}
    {% comment %} Canvas used for background {% endcomment %}
    <canvas id="canvas">

    <script src="{% static '/js/index.js' %}"></script>
  </body>
  {% block footer %}
  <script type="text/javascript" src="{% static 'admin/js/vendor/jquery/jquery.js' %}"></script>
  
  {{ form.media }}
  
  <script>
  (function($) {
      $('#add-form').click(function() {
          var index = $('#id_inline_test_models-TOTAL_FORMS').val()
          var newTable = $('#id_inline_test_models-__prefix__-DELETE').parents('table').clone()
          newTable.find(':input').each(function() {
              for (attr of ['name', 'id'])
                  $(this).attr(
                      attr,
                      $(this).attr(attr).replace('__prefix__', index)
                  )
          })
          newTable.insertBefore($(this))
          $('#id_inline_test_models-TOTAL_FORMS').val(
              parseInt($('#id_inline_test_models-TOTAL_FORMS').val()) + 1
          )
          newTable.slideDown()
      })
  })($)
  // custom function for autocomplete goes here
  document.addEventListener('dal-init-function', function () {
    yl.registerFunction( 'your_autocomplete_function', function ($, element) {
        var $element = $(element);
        // autocomplete function here
    });
})
  </script>
  {% endblock %}
</html>
